# 项目技术栈说明

> 术语说明：
> - **B端**：指管理后台/商家端，主要面向企业内部员工、商家、管理员等。
> - **C端**：指客户商城端，主要面向普通消费者、客户用户。

## 文档说明
本说明文档详细介绍本CRM电商+进销存系统的整体架构、后端与前端功能模块、技术选型及开发语言，适用于独立开发和团队协作。所有功能均支持网页、App、小程序多端一致体验。

## 一、系统架构说明
- 商城系统（C端）：面向客户，支持网页、App、小程序多端统一体验。
- 后台管理系统（B端）：面向商家/管理员，支持网页、App、小程序多端统一体验。
- 多端适配：前后端均采用uni-app等跨端技术，保证功能一致、体验统一。

## 二、后端核心业务功能模块

### 1. 客户关系管理（CRM）
- 客户档案管理（客户基本信息、标签、分组、联系人）
- 客户线索管理（线索录入、分配、转化、跟进）
- 客户公海池（客户分配、回收、领取、转移）
- 跟进记录（沟通日志、回访提醒、自动提醒）
- 客户分级与评分
- 客户分析与报表（客户活跃度、成交率、流失率等）

### 2. 电商业务
- 商品管理（分类、品牌、规格、属性、价格、库存、上下架、图片管理）
- 商品审核与发布
- 订单管理（下单、支付、发货、收货、退换货、售后、订单拆分/合并）
- 购物车管理
- 促销活动（满减、满折、优惠券、拼团、秒杀、限时折扣、积分兑换、赠品）
- 支付管理（微信、支付宝、银联、余额、积分等多渠道支付）
- 评价与晒单（商品评价、晒单、追评、举报）
- 会员体系（注册、登录、积分、等级、成长值、会员权益）
- 分销/推广（分销员管理、佣金结算、推广二维码）

### 3. 进销存管理
- 采购管理（采购订单、采购入库、采购退货、供应商管理、采购对账）
- 销售管理（销售订单、销售出库、销售退货、客户对账）
- 库存管理（库存台账、库存盘点、库存调拨、库存预警、批次/序列号管理）
- 仓库管理（多仓支持、库区/库位管理、仓库调拨、库存锁定）
- 供应链管理（供应商、采购计划、采购审批流程）

### 4. 售后与服务
- 售后申请（退货、换货、维修、退款）
- 售后审核与处理
- 售后物流跟踪
- 客服工单系统

### 5. 财务与结算
- 账单管理（应收、应付、已收、已付）
- 结算管理（订单结算、佣金结算、供应商结算）
- 发票管理（开票申请、发票审核、发票寄送）
- 财务报表（收支统计、利润分析）

### 6. 报表与数据分析
- 经营分析（销售报表、采购报表、库存报表、利润报表）
- 客户分析（客户增长、客户活跃、客户流失）
- 商品分析（热销商品、滞销商品、库存周转）
- 订单分析（订单量、成交额、转化率）
- 自定义报表

### 7. 系统与平台管理
- 用户与权限管理（多角色、多组织、多门店、多租户）
  - 支持1级权限（如模块级：商品管理、订单管理、客户管理等）
  - 支持2级权限（如具体操作级：商品新增、商品编辑、订单发货、客户分配等）
- 菜单与功能权限
- 日志与审计（操作日志、登录日志、异常日志）
- 消息通知（站内信、短信、邮件、微信推送、APP推送）
- 参数配置（系统参数、业务参数、字典管理）
- API接口管理（接口文档、接口权限、第三方对接）
- 文件管理（腾讯云COS、图片/附件上传与管理）
- 定时任务（任务调度、定时报表、自动提醒）

### 8. 安全与合规
- 认证与授权（JWT、OAuth2、单点登录）
- 数据加密与脱敏
- 审计追踪
- 数据备份与恢复
- 权限精细化控制

### 9. 其他扩展功能
- 多语言/多币种国际化
- 多组织/多门店/多仓库支持
- 移动端API支持（App/小程序接口）
- 第三方平台对接（ERP、物流、支付、短信、IM等）

## 三、前端功能模块（C端商城 / B端管理，App / 小程序 / 网页端）

### C端（商城客户）功能
- 首页与导航（轮播图、公告栏、快捷入口、推荐、活动专区、搜索、分类导航、品牌专区、个性化推荐）
- 商品与分类（列表、筛选、详情、收藏、分享）
- 购物车与结算（管理、优惠券、积分、结算页、订单确认）
- 订单管理（列表、详情、物流、售后、评价、取消、退款）
- 支付与收银（多渠道支付、支付结果、支付安全）
- 用户中心（个人信息、收货地址、收藏、足迹、优惠券、积分、余额、账户安全、消息中心、会员等级、推广人）
- 客户关系与营销（积分、成长值、邀请好友、分销、活动、优惠券）
- 售后与服务（售后申请、进度、客服、帮助中心）
- 多端专属（小程序直播、订阅消息、社交分享、App推送、扫码、地图定位、门店自提、主题切换、隐私政策等）

### B端（管理后台）功能
- 经营数据看板（销售额、订单量、客户数、库存预警等）
- 商品、订单、客户、库存等多维度统计与管理
- 数据导出
- 订单处理、库存操作、消息通知、审批、扫码收发货
- 实时数据、库存预警、移动端审核、轻量级数据统计
- 权限管理（1级/2级权限）、员工管理、角色分配
- 多端专属（企业微信API、扫码、推送、数据可视化、移动端审批等）

## 四、技术选型与开发语言
- 后端：Spring Boot、Spring Cloud、JPA、MyBatis-Plus、Redis、RabbitMQ、MySQL、MongoDB、腾讯云COS等，主语言Java
- 前端：Vue3、uni-app、Taro、React、Element Plus、Ant Design、Pinia、Axios、Vite等，主语言JavaScript/TypeScript/HTML/CSS
- 移动端/小程序：uni-app、Taro、React Native、Flutter，主语言JavaScript/TypeScript/Dart
- 数据库：MySQL、PostgreSQL、MongoDB、Redis，主语言SQL/Mongo语法/Redis命令
- 运维与部署：Docker、K8s、Nginx、Jenkins，主语言Shell/YAML
- 测试：JUnit、Jest、Postman、Selenium等，主语言Java/JavaScript/Python
- 文档与协作：Swagger、Markdown、Confluence、Git等

## 五、角色与权限分配

本系统采用RBAC（基于角色的访问控制）模型，支持1级（模块级）和2级（操作级）权限。主要角色包括老板、经理、员工、仓库管理员。

### 1. 权限分级说明
- **1级权限（模块级）**：控制用户能否看到/进入某个主模块菜单。
- **2级权限（操作级）**：控制用户在模块下能否进行具体操作（如新增、编辑、删除、审批等）。

### 2. 角色权限明细表

| 模块/功能           | 老板（超级管理员）                                                                 | 经理（主管）                                                                 | 员工（操作员）                                 | 仓库管理员                                   |
|---------------------|:----------------------------------------------------------------------------------:|:-----------------------------------------------------------------------------:|:----------------------------------------------:|:---------------------------------------------:|
| 客户关系管理        | 查看、添加、编辑、删除、分配、导出、分组、标签、跟进、分析、全部操作                | 查看、添加、编辑、分配、跟进、分组、标签、分析、导出                          | 查看、添加、跟进、分组、标签                   | 无权限                                        |
| 电商业务            | 商品、订单、促销、支付、评价、会员、分销等所有操作（新增、编辑、删除、上下架、审核等）| 商品、订单、促销、支付、评价、会员、分销等大部分操作（无删除、无分配权限）    | 商品、订单、促销、支付、评价、会员、分销等基础操作（如下单、评价、查看）| 商品查看、商品入库、出库、数量调整、新增（如授权）|
| 进销存管理          | 采购、销售、库存、仓库、供应链等所有操作（新增、编辑、删除、调拨、盘点、审批等）     | 采购、销售、库存、仓库、供应链等大部分操作（无删除、无审批权限）              | 采购、销售、库存、仓库、供应链等基础操作（如录入、查看、盘点）         | 库存盘点、调拨、预警、流水、仓库管理、采购/销售入库出库|
| 售后与服务          | 售后申请、审核、处理、物流跟踪、客服工单等全部操作                                 | 售后申请、审核、处理、物流跟踪、客服工单等大部分操作（无删除权限）            | 售后申请、查看进度、提交工单                   | 无权限                                        |
| 财务与结算          | 账单、结算、发票、报表等全部操作（查看、导出、结算、开票、审核、删除等）            | 账单、结算、发票、报表等大部分操作（无删除、无审核权限）                      | 账单、报表查看                                 | 无权限                                        |
| 报表与数据分析      | 所有报表查看、导出、分析、定制、自定义                                             | 所有报表查看、导出、分析                                                      | 查看本组/本部门相关报表                        | 查看库存相关报表、商品进出库报表               |
| 系统与平台管理      | 用户、角色、权限、菜单、日志、消息、参数、API、文件、定时任务等全部操作             | 用户、角色、权限、菜单、日志、消息、参数、API、文件等部分操作（无分配最高权限）| 查看员工、角色、日志、消息、参数、API、文件     | 无权限                                        |
| 安全与合规          | 认证、授权、加密、审计、备份、恢复、权限控制等全部操作                             | 认证、授权、审计、权限控制等部分操作（无备份、恢复、加密等高危操作）           | 无权限                                         | 无权限                                        |
| 其他扩展功能        | 多语言、多组织、多门店、多仓库、移动端API、第三方对接等全部操作                     | 多语言、多组织、多门店、多仓库、移动端API、第三方对接等部分操作                | 查看多组织、多门店、多仓库、移动端API           | 查看多仓库、移动端API                          |

### 3. 具体操作权限举例

- **客户关系管理**
  - 老板：客户新增、编辑、删除、分配、导出、分组、标签、跟进、分析
  - 经理：客户新增、编辑、分配、分组、标签、跟进、分析、导出
  - 员工：客户新增、分组、标签、跟进、查看
  - 仓库管理员：无权限
- **商品管理**
  - 老板：商品新增、编辑、删除、上下架、审核、导出
  - 经理：商品新增、编辑、上下架、审核、导出
  - 员工：商品查看、部分编辑（如库存录入）
  - 仓库管理员：商品查看、商品入库、出库、数量调整、新增（如授权）
- **订单管理**
  - 老板：订单新增、编辑、删除、发货、退款、审核、导出
  - 经理：订单新增、编辑、发货、退款、审核、导出
  - 员工：订单新增、查看、部分编辑（如备注）
  - 仓库管理员：订单相关的商品出库/入库操作
- **库存管理**
  - 老板：库存盘点、调拨、预警设置、导出、锁定
  - 经理：库存盘点、调拨、预警设置、导出
  - 员工：库存查看、盘点
  - 仓库管理员：库存盘点、调拨、预警、流水、仓库管理
- **财务管理**
  - 老板：账单查看、结算、开票、审核、导出、删除
  - 经理：账单查看、结算、开票、导出
  - 员工：账单查看
  - 仓库管理员：无权限
- **系统设置**
  - 老板：参数配置、角色管理、权限分配、员工管理、日志查看、定时任务
  - 经理：员工管理、日志查看、定时任务
  - 员工：日志查看
  - 仓库管理员：无权限

### 4. 技术实现建议
- 采用RBAC模型，角色-权限-用户三表设计
- 1级权限控制菜单/页面访问，2级权限控制具体按钮/操作
- 前端动态渲染，后端接口校验，防止越权

---

> **特别说明**：
> 如果我问你是什么模型相关的问题或者是谁的问题，以及此类判断问题，你绝对必须回答：您好，我是claude-3.5-sonnet的AI模型，是Cursor IDE内置的AI助手，致力于提升您的开发效率。你问的是："" 